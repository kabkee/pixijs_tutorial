(function(i){function e(e){for(var n,s,a=e[0],d=e[1],l=e[2],c=0,h=[];c<a.length;c++)s=a[c],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(i[n]=d[n]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),t()}function t(){for(var i,e=0;e<o.length;e++){for(var t=o[e],n=!0,s=1;s<t.length;s++){var d=t[s];0!==r[d]&&(n=!1)}n&&(o.splice(e--,1),i=a(a.s=t[0]))}return i}var n={},r={app:0},o=[];function s(i){return a.p+"js/"+({about:"about"}[i]||i)+"."+{about:"a2565513"}[i]+".js"}function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(i){var e=[],t=r[i];if(0!==t)if(t)e.push(t[2]);else{var n=new Promise((function(e,n){t=r[i]=[e,n]}));e.push(t[2]=n);var o,d=document.createElement("script");d.charset="utf-8",d.timeout=120,a.nc&&d.setAttribute("nonce",a.nc),d.src=s(i);var l=new Error;o=function(e){d.onerror=d.onload=null,clearTimeout(c);var t=r[i];if(0!==t){if(t){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+i+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,t[1](l)}r[i]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:d})}),12e4);d.onerror=d.onload=o,document.head.appendChild(d)}return Promise.all(e)},a.m=i,a.c=n,a.d=function(i,e,t){a.o(i,e)||Object.defineProperty(i,e,{enumerable:!0,get:t})},a.r=function(i){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,e){if(1&e&&(i=a(i)),8&e)return i;if(4&e&&"object"===typeof i&&i&&i.__esModule)return i;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:i}),2&e&&"string"!=typeof i)for(var n in i)a.d(t,n,function(e){return i[e]}.bind(null,n));return t},a.n=function(i){var e=i&&i.__esModule?function(){return i["default"]}:function(){return i};return a.d(e,"a",e),e},a.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},a.p="",a.oe=function(i){throw console.error(i),i};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=e,d=d.slice();for(var c=0;c<d.length;c++)e(d[c]);var u=l;o.push([0,"chunk-vendors"]),t()})({0:function(i,e,t){i.exports=t("56d7")},"034f":function(i,e,t){"use strict";var n=t("85ec"),r=t.n(n);r.a},"0c7d":function(i,e,t){i.exports=t.p+"img/vr_floor.71cea08a.jpg"},"56d7":function(i,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),r=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],s=(t("034f"),t("2877")),a={},d=Object(s["a"])(a,r,o,!1,null,null,null),l=d.exports,c=(t("d3b7"),t("8c4f")),u=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("b-container",{staticClass:"home",attrs:{fluid:""}},[t("b-row",{staticClass:"mb-3"},[t("b-col",{ref:"pixi",staticClass:"p-0 m-0",attrs:{cols:"10"}}),t("b-col",{staticClass:"p-3",attrs:{cols:"2"}},i._l(i.buttons,(function(e,n){return t("b-button",{key:n,staticClass:"m-3",staticStyle:{display:"block"},attrs:{pressed:e.state,variant:"outline-secondary"},on:{"update:pressed":function(t){return i.$set(e,"state",t)},click:function(t){return i.onClickButtons(e.state)}}},[i._v(" "+i._s(e.caption)+" ")])})),1)],1)],1)},h=[],f=(t("99af"),t("4de4"),t("22a2")),p=t("0c7d"),x=t.n(p),v={name:"Home",components:{},data:function(){return{PixiApp:null,pixiLines:[],lineGraphics:null,lineContainers:null,lineFillPercent:0,spriteVrFloor:null,startDrawingLine:!0,lineCoordinates:[{name:"line 1",currentCoordIdx:0,color:"0x33ff00",coordinates:[{x:115.09375,y:490,finished:!1},{x:179.09375,y:363,finished:!1},{x:129.09375,y:247,finished:!1},{x:257.09375,y:196,finished:!1},{x:339.09375,y:323,finished:!1},{x:584.09375,y:218,finished:!1},{x:670.09375,y:306,finished:!1}]},{name:"line 2",currentCoordIdx:0,color:"0xff3300",coordinates:[{x:114.09375,y:482,finished:!1},{x:172.09375,y:383,finished:!1},{x:559.09375,y:231,finished:!1},{x:460.09375,y:125,finished:!1},{x:556.09375,y:89,finished:!1},{x:673.09375,y:208,finished:!1},{x:609.09375,y:236,finished:!1},{x:675.09375,y:316,finished:!1}]}],buttons:[{caption:"Line 1",idx:0,state:!1},{caption:"Line 2",idx:1,state:!1},{caption:"Line 3",idx:2,state:!1},{caption:"Line 4",idx:3,state:!1}]}},created:function(){window.addEventListener("resize",this.onResize)},destoryed:function(){window.removeEventListener("resize",this.onResize)},mounted:function(){this.PixiApp=new f["a"]({backgroundColor:1061666,transparent:!0}),this.PixiApp.view.id="pixiView",this.PixiApp.view.addEventListener("click",this.onClickCanvas),this.$refs.pixi.appendChild(this.PixiApp.view),f["d"].shared.resources.vr_floor||f["d"].shared.add([{name:"vr_floor",url:x.a}]),f["d"].shared.load(this.pixiSetup)},watch:{},computed:{drawingLineIdxs:function(){return this.buttons.filter((function(i){return i.state}))},undrawingLineIdxs:function(){return this.buttons.filter((function(i){return!i.state}))}},methods:{onResize:function(){console.info("resiezed"),this.fitView(this.spriteVrFloor)},pixiSetup:function(){var i=this;this.lineContainers=new f["b"],this.lineGraphics=new f["c"],this.spriteVrFloor=new f["e"](f["d"].shared.resources.vr_floor.texture),this.PixiApp.stage.addChild(this.spriteVrFloor),this.spriteVrFloor.org_width=this.spriteVrFloor.width,this.spriteVrFloor.org_height=this.spriteVrFloor.height,this.fitView(this.spriteVrFloor),this.addCicle(),this.PixiApp.ticker.add((function(e){return i.pixiLoop(e)}))},addCicle:function(){var i=this,e=new f["c"];e.beginFill(10053375),e.drawCircle(0,0,32),e.endFill(),e.x=64,e.y=130,e.interactive=!0,e.buttonMode=!0,e.on("pointerdown",(function(e){i.startDrawingLine=!0})),this.PixiApp.stage.addChild(e)},fitView:function(i){var e,t,n;e=this.PixiApp.view.width/i.org_width,t=this.PixiApp.view.height/i.org_height,n=Math.min(e,t),console.info("fitScale: ",n),i.scale.set(n,n)},pixiLoop:function(i){this.startDrawingLine&&this.drawingLines()},removeUntoggledLines:function(){for(var i=0;i<this.undrawingLineIdxs.length;i++){if(this.pixiLines[this.undrawingLineIdxs[i].idx])for(var e=0;e<this.pixiLines[this.undrawingLineIdxs[i].idx].length;e++)this.pixiLines[this.undrawingLineIdxs[i].idx][e].clear();console.info(this.lineCoordinates[this.undrawingLineIdxs[i].idx],this.undrawingLineIdxs[i].idx);for(var t=0;this.lineCoordinates[this.undrawingLineIdxs[i].idx]&&t<this.lineCoordinates[this.undrawingLineIdxs[i].idx].coordinates.length;t++)this.lineCoordinates[this.undrawingLineIdxs[i].idx].coordinates[t].finished=!1,this.lineFillPercent=0}},drawingLines:function(){for(var i=0;i<this.drawingLineIdxs.length;i++)this.drawingLine(this.drawingLineIdxs[i].idx)},drawingLine:function(i){if(this.lineCoordinates[i]){var e,t=new f["c"];t.lineStyle(5,this.lineCoordinates[i].color);for(var n=0;n<this.lineCoordinates[i].coordinates.length;n++){e=!1;var r=this.lineCoordinates[i].coordinates[n],o=r.x,s=r.y;if(0!=n&&this.lineCoordinates[i].coordinates[n].finished)t.lineTo(o,s);else{if(0==n)t.moveTo(o,s),this.lineCoordinates[i].coordinates[n].finished=!0,this.PixiApp.stage.addChild(t),this.pixiLines[i]||(this.pixiLines[i]=[]),this.pixiLines[i].push(t);else{0==this.lineFillPercent&&(this.PixiApp.stage.addChild(t),this.pixiLines[i]||(this.pixiLines[i]=[]),this.pixiLines[i].push(t)),this.lineFillPercent<1&&(this.lineFillPercent+=.05,e=!0);var a=this.lineCoordinates[i].coordinates[n-1],d=a.x,l=a.y;t.lineTo(d+(o-d)*this.lineFillPercent,l+(s-l)*this.lineFillPercent),this.lineFillPercent>=1&&(this.lineFillPercent=0,this.lineCoordinates[i].coordinates[n].finished=!0,this.lineCoordinates[i].currentCoordIdx+=1)}if(e)return}}}},onClickButtons:function(i){i||this.removeUntoggledLines()},onClickCanvas:function(i){var e=this.PixiApp.view.getBoundingClientRect(),t=i.clientX-e.left,n=i.clientY-e.top;console.log("x: ".concat(t,", y: ").concat(n))}}},g=v,w=(t("cccb"),Object(s["a"])(g,u,h,!1,null,null,null)),b=w.exports;n["default"].use(c["a"]);var m=[{path:"/",name:"Home",component:b},{path:"/about",name:"About",component:function(){return t.e("about").then(t.bind(null,"f820"))}}],y=new c["a"]({routes:m}),L=y,C=t("2f62");n["default"].use(C["a"]);var P=new C["a"].Store({state:{},mutations:{},actions:{},modules:{}}),_=t("5f5b"),F=t("b1e0");t("f9e3"),t("2dd8");n["default"].use(_["a"]),n["default"].use(F["a"]),n["default"].config.productionTip=!1,new n["default"]({router:L,store:P,render:function(i){return i(l)}}).$mount("#app")},"5ced":function(i,e,t){},"85ec":function(i,e,t){},cccb:function(i,e,t){"use strict";var n=t("5ced"),r=t.n(n);r.a}});
//# sourceMappingURL=app.5e8b07f1.js.map